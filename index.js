import{a as E,S as x,i as h}from"./assets/vendor-Dpd1z_xS.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function s(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(e){if(e.ep)return;e.ep=!0;const a=s(e);fetch(e.href,a)}})();function g(r){return r.map(({webformatURL:n,largeImageURL:s,tags:l,likes:e,views:a,comments:u,downloads:v})=>`
      <li class="wrap-card">
        <a class="link-card" href="${s}">
          <img class="photo-card" src="${n}" alt="${l}"/>
        </a>
        <div class="info">
          <div class="wrap-text">
            <p><b>Likes</b> ${e}</p>
          </div>
          <div class="wrap-text">
            <p><b>Views</b> ${a}</p>
          </div>
          <div class="wrap-text-two">
            <p><b>Comments</b> ${u}</p>
          </div>
          <div class="wrap-text-two">
            <p><b>Downloads</b> ${v}</p>
          </div>
        </div>
      </li>
      `).join("")}const C="https://pixabay.com/api/",A="48269071-e04b626909c4b310c40a55ae0";async function b(r,n=1){try{return(await E.get(C,{params:{key:A,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:n,per_page:20}})).data}catch(s){throw console.error("Error fetching images:",s.message),s}}const o=document.createElement("form");o.classList.add("form");const p=document.createElement("input"),m=document.createElement("button");m.classList.add("searchButton");const t=document.createElement("button");p.classList.add("input");p.type="text";p.name="search";p.placeholder="Enter search query...";p.style.marginRight="10px";m.type="submit";m.textContent="Search";m.style.marginRight="10px";const i=document.createElement("div");i.textContent="Loading images, please wait...";i.classList.add("first-loader");i.style.display="none";m.insertAdjacentElement("beforeend",i);t.type="button";t.textContent="LoadMore";t.id="load-more";t.style.display="none";t.classList.add("load-more");const c=document.createElement("div");c.textContent="Loading images, please wait...";c.classList.add("loader");c.style.display="none";document.body.appendChild(t);t.insertAdjacentElement("beforeend",c);o.appendChild(p);o.appendChild(m);document.body.appendChild(o);o.style.alignItems="center";o.style.position="fixed";o.style.top="50px";o.style.left="50%";o.style.transform="translate(-50%, -50%)";o.style.justifyContent="center";o.style.gap="10px";const d=document.createElement("div");d.id="gallery";document.body.appendChild(d);const f=document.createElement("ul");let L=new x("#gallery a",{captionsData:"alt",captionDelay:250}),y=1,w=15;o.addEventListener("submit",async r=>{t.style.display="none",r.preventDefault(),i.style.display="block",setTimeout(()=>{d.style.display="block",i.style.display="none"},3e4);const n=p.value.trim();if(!n){h.show({title:"Error",message:"These fields are empty, please, fill these all!",color:"red"}),i.style.display="none";return}try{y=1;const s=await b(n,y);if(s.hits.length===0){h.show({title:"Error",message:"Sorry, there are no any matching your search query. Please try again!",color:"red"}),i.style.display="none";return}d.innerHTML="",f.insertAdjacentHTML("beforeend",g(s.hits)),d.append(f),s.totalHits>y*w&&(t.style.display="block",d.insertAdjacentElement("afterend",t)),L.refresh();const l=f.querySelectorAll("li");if(l.length>0){const{height:e}=l[l.length-s.hits.length].getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}}catch(s){console.error(s)}finally{i.style.display="none"}});t.addEventListener("click",async()=>{y+=1,c.style.display="block",c.textContent="Loading images, please wait...",t.disabled=!0,setTimeout(()=>{d.style.display="block",t.disabled=!0,c.style.display="none"},3e4);try{const r=await b(p.value.trim(),y);f.insertAdjacentHTML("beforeend",g(r.hits)),d.append(f),L.refresh(),r&&r.totalHits<=y*w&&(t.style.display="none",h.show({title:"Error",message:"We're sorry, but you've reached the end of search results.",color:"blue"}))}catch(r){console.error(r)}finally{c.style.display="none",t.disabled=!1}});
//# sourceMappingURL=index.js.map
